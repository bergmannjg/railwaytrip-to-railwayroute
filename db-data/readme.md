# DB Open Data

Open data from [Deutsche Bahn](https://data.deutschebahn.com/) of stations, *Betriebsstellen* and  railway routes.

The files can be restored with the script [restore.sh](../scripts/restore.sh).

## Data from Open-Data-Portal of Deutsche Bahn

### Haltestellendaten (Stations)

* contains UIC station code and *Betriebsstelle*([DS100}(https://de.wikipedia.org/wiki/Betriebsstelle)) of station
* file: Datei D_Bahnhof_2020_alle.json
* source: https://data.deutschebahn.com/dataset/data-haltestellen

### Betriebsstellenverzeichnis

* contains all *Betriebsstellen*(DS100), every station is a *Betriebsstelle*
* file: DBNetz-Betriebsstellenverzeichnis-Stand2018-04.json
* source: https://data.deutschebahn.com/dataset/data-betriebsstellen

### Geo-Streckennetz (Railway routes)

* contains number and name of railway routes
* file: strecken.json from CSV/strecken.csv
* file: strecken_nutzung.json from MapInfoRelationen/strecken.csv
* source: https://data.deutschebahn.com/dataset/geo-strecke

### Geo-Betriebsstelle

* contains *Betriebsstelle*(DS100), railway route number and rail line kilometers
* file: betriebsstellen_open_data.json
* source: https://data.deutschebahn.com/dataset/geo-betriebsstelle

## Expanded data

### Geoinformation of Betriebsstellen and Railway route endpoints

* expand file betriebsstellen_open_data.json with missing information of railway route endpoints and extract railway routes with passenger trains
* file: betriebsstellen_streckennummer_pz.json
* file: strecken_pz.json
* generated by scripts [extend-railway-route-endpoints.ts](../scripts/extend-railway-route-endpoints.ts) and [extract-pz-strecken.ts](../scripts/extract-pz-strecken.ts)

### Graph

* contains graph of betriebsstellen with more than one railway route connection, used to find the shortest path between the betriebsstellen, labeled by the travel time  
* file: graph.json
* generrated by script [create-graph.ts](../scripts/create-graph.ts)

### Preferred railway routes

* contains precomputed matchings of two station trips and the corresponding railway route numbers, overrides path from graph
* file: preferredroutes.json
* generrated by script [create-preferred-routes.ts](../scripts/create-preferred-routes.ts)
